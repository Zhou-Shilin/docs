---
title: "トラブルシューティング"
description: "MineClawd のセットアップと実行時によくある問題をすばやく解決します。"
---

MineClawd が失敗した場合、まず下の近い症状を見つけて、その対処を適用してください。

<AccordionGroup>
  <Accordion title="MineClawd に「OP ユーザーのみ実行可能」と表示される">
    プレイヤーに OP レベル 2 権限を付与してください。すべての `/mineclawd` と `/mclawd` コマンドに OP アクセスが必要です。
  </Accordion>

  <Accordion title="MineClawd に「API キー または model が不足」と表示される">
    config を開いてプロバイダー認証情報を設定してください。

    OpenAI の設定例:
    - `provider openai`
    - `api-key <key>`
    - `model <model>`

    Vertex の設定例:
    - `provider vertex-ai`
    - `vertex-api-key <key>`
    - `vertex-model <model>`
  </Accordion>

  <Accordion title="`/mineclawd config` で GUI が開かない">
    クライアントに MineClawd が入っていない可能性が高いです。コマンド設定を使用してください:

    ```bash
    /mineclawd config <key> <value>
    ```
  </Accordion>

  <Accordion title="`/mineclawd history` でクライアント Mod 必須と表示される">
    クライアントに MineClawd をインストールしてください。履歴の本 UI はクライアントパケットチャンネルを使います。
  </Accordion>

  <Accordion title="このセッションでは別のリクエストがまだ実行中と表示される">
    新しいリクエスト開始、セッション切り替え、persona 切り替えの前に、現在タスクの完了を待ってください。
  </Accordion>

  <Accordion title="retry token が無効または期限切れ">
    retry token は 30 分で期限切れになります。

    新しいリクエストを実行するか、直近の失敗メッセージにある最新の retry アクションを使ってください。
  </Accordion>

  <Accordion title="resume/remove/repair で `session not found` が出る">
    まず `/mineclawd sessions list` を実行してください。

    次に、その出力にある正確なセッション ID または token を使用してください。
  </Accordion>

  <Accordion title="Persona not found が出る">
    `/mineclawd persona` で利用可能な名前を確認してください。

    必要であれば `mineclawd/souls/` 配下に新しい soul ファイルを作成してください。
  </Accordion>

  <Accordion title="Dynamic placeholder registry is disabled と表示される">
    モードを設定して再起動してください:

    ```bash
    /mineclawd config dynamic-registry-mode enabled
    ```

    専用サーバーでは、これを有効化した場合クライアント側にも MineClawd が必要です。
  </Accordion>

  <Accordion title="`reload-game` が KubeJS エラーを報告する">
    表示された行を確認し、`kubejs/server_scripts/mineclawd/` のスクリプト構文または実行時問題を修正して、再読み込みしてください。

    再読み込み出力で KubeJS エラーが出なくなるまで修正を続けてください。
  </Accordion>

  <Accordion title="`/mineclawd choose` で no pending question と表示される">
    MineClawd は回答待ち状態ではありません。

    MineClawd が確認質問を出した後にのみ `choose` を実行してください。
  </Accordion>

  <Accordion title="`LLM provider`/`Broadcast Requests To` の選択肢が 1 つしか出ない">
    YACL の不具合です。値をクリックし、選びたいオプションの先頭 1〜2 文字を入力すると、表示されるドロップダウンから選択できます。

    `LLM provider`: OpenAI は `o`、Google Vertex AI は `g` を入力。
    `Broadcast Requests To`: only-me は `on`、all は `a`、ops は `op` を入力。
  </Accordion>
</AccordionGroup>


## 問題が続く場合

- デバッグログを有効化: `/mineclawd config debug-mode true`
- 1 回再現する
- `logs/latest.log` を確認する
- 問題報告を作成: `https://github.com/Zhou-Shilin/MineClawd/issues`
