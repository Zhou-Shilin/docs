---
title: "完全な設定"
description: "デフォルト値、コマンドキー、動作メモを含む MineClawd 設定の完全リファレンス。"
---

## 目的

このページは、MineClawd の設定ファイル、コマンドキー、再起動後の挙動を一望できるようにしています。

## 設定の保存場所

- グローバル設定: `config/mineclawd.json5`
- プレイヤーごとのチャット可視性: `mineclawd/player-settings.json`
- Soul ファイルとアクティブ soul 状態: `mineclawd/souls/` と `mineclawd/souls/.active/`

## 完全版 `mineclawd.json5` テンプレート

```json5
{
  provider: "OPENAI",
  endpoint: "https://api.openai.com/v1",
  apiKey: "",
  model: "gpt-4o-mini",
  summarizeModel: "gpt-4o-mini",

  vertexEndpoint: "https://aiplatform.googleapis.com/v1",
  vertexApiKey: "",
  vertexModel: "publishers/google/models/gemini-3-pro-preview",
  vertexSummarizeModel: "publishers/google/models/gemini-3-pro-preview",

  debugMode: false,
  limitToolCalls: false,
  toolCallLimit: 16,
  systemPrompt: "",
  dynamicRegistryMode: "AUTO",

  // クライアント専用
  enableGui: true
}
```

<Info>
ファイル形式の列挙値は大文字（`OPENAI`, `VERTEX_AI`, `AUTO`, `ENABLED`, `DISABLED`）です。コマンド形式では小文字（`openai`, `vertex-ai`, `auto`, `enabled`, `disabled`）を使ってください。
</Info>

## キーリファレンス

| ファイルキー | コマンドキー | 型 | デフォルト | メモ |
| --- | --- | --- | --- | --- |
| `provider` | `provider` | enum | `OPENAI` | OpenAI 互換または Vertex AI を選びます。 |
| `endpoint` | `endpoint` | string | `https://api.openai.com/v1` | OpenAI 互換のベース URL です。末尾スラッシュは不要です。 |
| `apiKey` | `api-key` | string | empty | OpenAI 互換プロバイダーの API キー。 |
| `model` | `model` | string | `gpt-4o-mini` | OpenAI チャットモデル。 |
| `summarizeModel` | `summarize-model` | string | `gpt-4o-mini` | セッションタイトル生成用の OpenAI モデル。 |
| `vertexEndpoint` | `vertex-endpoint` | string | `https://aiplatform.googleapis.com/v1` | Vertex AI のベース URL。 |
| `vertexApiKey` | `vertex-api-key` | string | empty | Vertex AI の API キー。 |
| `vertexModel` | `vertex-model` | string | `publishers/google/models/gemini-3-pro-preview` | Vertex モデル名またはパス。 |
| `vertexSummarizeModel` | `vertex-summarize-model` | string | `publishers/google/models/gemini-3-pro-preview` | セッションタイトル生成用 Vertex モデル。 |
| `debugMode` | `debug-mode` | boolean | `false` | 詳細なリクエストとツールのログを出します。 |
| `limitToolCalls` | `limit-tool-calls` | boolean | `false` | リクエストごとのツールループ上限を有効化します。 |
| `toolCallLimit` | `tool-call-limit` | integer | `16` | 許容範囲は `1` から `20` です。 |
| `systemPrompt` | `system-prompt` | string | empty | 空文字で内蔵プロンプト、`default` でコマンドからリセットします。 |
| `dynamicRegistryMode` | `dynamic-registry-mode` | enum | `AUTO` | 動的プレースホルダーの動作を制御します。変更後は再起動が必要です。 |
| `enableGui` | -- | boolean | `true` | クライアント専用。オーバーレイ GUI の表示/非表示を切り替えます。 |

## プレイヤーごとの設定

### `broadcast-requests-to`

- コマンドキー: `broadcast-requests-to`
- 許可値: `self`, `all`, `ops`
- 保存先: `mineclawd/player-settings.json`
- 目的: リクエストのエコーとタスク通知を誰に見せるかを決めます。

### `assistivetouch`

- コマンド: `/mineclawd assistivetouch`
- 保存先: `mineclawd/player-settings.json`
- デフォルト: ON（オーブ表示）
- 目的: Assistive Touch オーブの表示をトグルし、オーバーレイを閉じずに画面上の存在感を切り替えます。

## Dynamic registry mode の挙動

- `AUTO`: シングルプレイ/クライアント時に有効化、専用サーバーでは無効化。
- `ENABLED`: すべての環境で強制有効化。
- `DISABLED`: ランタイムで完全に無効化。

<Warning>
専用サーバーで `ENABLED` を強制する場合は、すべてのクライアントにも MineClawd を導入してください。
</Warning>

## 推奨ベースライン

### 初回 OpenAI セットアップ

```bash
/mineclawd config provider openai
/mineclawd config endpoint https://api.openrouter.ai/api/v1
/mineclawd config api-key <your-key>
/mineclawd config model gpt-4o-mini
/mineclawd config summarize-model gpt-4o-mini
```

### 初回 Vertex セットアップ

```bash
/mineclawd config provider vertex-ai
/mineclawd config vertex-endpoint https://aiplatform.googleapis.com/v1
/mineclawd config vertex-api-key <your-key>
/mineclawd config vertex-model publishers/google/models/gemini-3-pro-preview
/mineclawd config vertex-summarize-model publishers/google/models/gemini-3-pro-preview
```

## GUI パス

- ゲーム内: **Mod Menu** -> **MineClawd** -> **Configure**
- コマンド: `/mineclawd config ...`

<Info>
`enableGui` を OFF にしても **Mod Menu** や `/mineclawd config` での設定は使えます。オーバーレイの表示だけが切り替わるので、必要ならコマンドキーで同じ設定を続けてください。
</Info>
