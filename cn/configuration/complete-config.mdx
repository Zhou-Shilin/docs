---
title: "完整配置"
description: "MineClawd 的完整配置参考，含默认值、命令键与行为说明。"
---

## 目的

本页介绍 MineClawd 的完整配置模型，包含文件设置、命令键与重启行为。

## 设置存放位置

- 全局配置文件：`config/mineclawd.json5`
- 每位玩家的聊天可见性：`mineclawd/player-settings.json`
- soul 文件与活动 soul 状态：`mineclawd/souls/` 与 `mineclawd/souls/.active/`

## 完整 `mineclawd.json5` 模板

```json5
{
  provider: "OPENAI",
  endpoint: "https://api.openai.com/v1",
  apiKey: "",
  model: "gpt-4o-mini",
  summarizeModel: "gpt-4o-mini",

  vertexEndpoint: "https://aiplatform.googleapis.com/v1",
  vertexApiKey: "",
  vertexModel: "publishers/google/models/gemini-3-pro-preview",
  vertexSummarizeModel: "publishers/google/models/gemini-3-pro-preview",

  debugMode: false,
  limitToolCalls: false,
  toolCallLimit: 16,
  systemPrompt: "",
  dynamicRegistryMode: "AUTO",

  // 客户端专用（不写入服务器配置）
  enableGui: true
}
```

<Info>
文件中的枚举值为大写（`OPENAI`、`VERTEX_AI`、`AUTO`、`ENABLED`、`DISABLED`）。
命令形式则为小写（`openai`、`vertex-ai`、`auto`、`enabled`、`disabled`）。
</Info>

## 键值参考

| 文件键 | 命令键 | 类型 | 默认 | 说明 |
| --- | --- | --- | --- | --- |
| `provider` | `provider` | 枚举 | `OPENAI` | 选择支持 OpenAI API 或 Vertex AI 的提供商。 |
| `endpoint` | `endpoint` | 字符串 | `https://api.openai.com/v1` | OpenAI 兼容的基础 URL，无需尾部斜线。 |
| `apiKey` | `api-key` | 字符串 | 空 | OpenAI 的 API 密钥。 |
| `model` | `model` | 字符串 | `gpt-4o-mini` | OpenAI 聊天模型。 |
| `summarizeModel` | `summarize-model` | 字符串 | `gpt-4o-mini` | 用于生成会话标题的模型。 |
| `vertexEndpoint` | `vertex-endpoint` | 字符串 | `https://aiplatform.googleapis.com/v1` | Vertex API 的基础 URL。 |
| `vertexApiKey` | `vertex-api-key` | 字符串 | 空 | Vertex API 密钥。 |
| `vertexModel` | `vertex-model` | 字符串 | `publishers/google/models/gemini-3-pro-preview` | Vertex 模型路径或名称。 |
| `vertexSummarizeModel` | `vertex-summarize-model` | 字符串 | `publishers/google/models/gemini-3-pro-preview` | Vertex 用于生成会话标题的模型。 |
| `debugMode` | `debug-mode` | 布尔 | `false` | 记录详细请求与工具活动日志。 |
| `limitToolCalls` | `limit-tool-calls` | 布尔 | `false` | 启用每次请求的工具循环上限。 |
| `toolCallLimit` | `tool-call-limit` | 整数 | `16` | 允许范围为 `1` 到 `20`。 |
| `systemPrompt` | `system-prompt` | 字符串 | 空 | 空值使用内置 system prompt。命令模式下使用 `default` 以重置。 |
| `dynamicRegistryMode` | `dynamic-registry-mode` | 枚举 | `AUTO` | 控制动态占位符的运行模式。修改后需要重启。 |
| `enableGui` | -- | 布尔 | `true` | 仅客户端。显示或隐藏覆盖层 GUI。通过 **Mod Menu** -> **MineClawd** -> **Configure** 设置。 |

## 每位玩家设置

### broadcast-requests-to

命令专用，按玩家隔离。

- 命令键：`broadcast-requests-to`
- 取值：`self`、`all`、`ops`
- 存储文件：`mineclawd/player-settings.json`
- 作用：控制谁能看到提示回显与任务开始/结束行。

### assistivetouch

仅切换，可按玩家保存。

- 命令：`/mineclawd assistivetouch`
- 存储文件：`mineclawd/player-settings.json`
- 默认：开启（可见）
- 作用：在不禁用整个 GUI 的情况下显示或隐藏 AssistiveTouch 球体。

## 动态注册表模式行为

- `AUTO`：在客户端运行时启用，专用服务器禁用。
- `ENABLED`：强制所有运行时启用。
- `DISABLED`：完全禁用。

<Warning>
若在专用服务器上强制设置为 `ENABLED`，客户端也必须安装 MineClawd。
</Warning>

## 推荐基线

### 初次使用 OpenAI 的基线

```bash
/mineclawd config provider openai
/mineclawd config endpoint https://api.openai.com/v1
/mineclawd config api-key <your-key>
/mineclawd config model gpt-4o-mini
/mineclawd config summarize-model gpt-4o-mini
```

### 初次使用 Vertex 的基线

```bash
/mineclawd config provider vertex-ai
/mineclawd config vertex-endpoint https://aiplatform.googleapis.com/v1
/mineclawd config vertex-api-key <your-key>
/mineclawd config vertex-model publishers/google/models/gemini-3-pro-preview
/mineclawd config vertex-summarize-model publishers/google/models/gemini-3-pro-preview
```

## GUI 路径

- 游戏内：**Mod Menu** -> **MineClawd** -> **Configure**
- 命令备选：`/mineclawd config ...`
- 覆盖层菜单：点击汉堡图标 -> **Config**

如果客户端 GUI 打不开，使用命令键配置。

<Info>
`enableGui` 控制覆盖层窗口。将其设为 OFF 不会影响 YACL 配置屏幕 —— 仍可通过 **Mod Menu** 或 `/mineclawd config` 打开配置。
</Info>
