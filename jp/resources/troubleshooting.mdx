---
title: "トラブルシューティング"
description: "MineClawd のセットアップやランタイムの問題をすばやく解決します。"
---

MineClawd が動かない場合は、以下の症状から該当する項目を先に試してください。

<AccordionGroup>
  <Accordion title="MineClawd が OP 権限が必要だと言う">
    プレイヤーに OP レベル 2 を付与してください。すべての `/mineclawd` と `/mclawd` コマンドは OP2 が必須です。
  </Accordion>

  <Accordion title="MineClawd が API キーまたはモデルを求めている">
    設定を開き、プロバイダー資格情報を入力してください。

    OpenAI ルート:
    - `provider openai`
    - `api-key <key>`
    - `model <model>`

    Vertex ルート:
    - `provider vertex-ai`
    - `vertex-api-key <key>`
    - `vertex-model <model>`
  </Accordion>

  <Accordion title="`/mineclawd config` で GUI が開かない">
    クライアントに MineClawd が入っていない可能性があります。コマンドで設定してください:

    ```bash
    /mineclawd config <key> <value>
    ```
  </Accordion>

  <Accordion title="`/mineclawd history` でクライアントモッドが必要と言われる">
    クライアントに MineClawd を導入してください。履歴ブック UI はクライアントパケットを要求します。
  </Accordion>

  <Accordion title="別のリクエストがまだ処理中と言われる">
    現在のタスクが終わるまで待ってから、新しいリクエストやセッション操作を行ってください。
  </Accordion>

  <Accordion title="リトライトークンが無効や期限切れ">
    リトライトークンは 30 分で期限切れになります。

    新しいリクエストを実行するか、失敗メッセージに表示される最新の再試行アクションを使ってください。
  </Accordion>

  <Accordion title="resume/remove/repair の対象セッションが見つからない">
    まず `/mineclawd sessions list` を実行してください。

    出力のセッション ID またはトークンをそのまま使います。
  </Accordion>

  <Accordion title="ペルソナが見つからない">
    `/mineclawd persona` で利用可能な名前を確認してください。

    必要であれば `mineclawd/souls/` に新しい soul ファイルを作成します。
  </Accordion>

  <Accordion title="動的プレースホルダーが無効と出る">
    モードを変更して再起動してください:

    ```bash
    /mineclawd config dynamic-registry-mode enabled
    ```

    専用サーバーでは、この設定時にすべてのクライアントに MineClawd が必要です。
  </Accordion>

  <Accordion title="`reload-game` が KubeJS エラーを報告する">
    表示された行を読み、`kubejs/server_scripts/mineclawd/` 内のスクリプト構文や実行時問題を修正してから再読み込みします。

    エラーがなくなるまで繰り返してください。
  </Accordion>

  <Accordion title="`/mineclawd choose` が保留質問なしと言う">
    MineClawd が質問待ちになっていません。選ぶのは質問が出た後だけです。
  </Accordion>

  <Accordion title="LLM プロバイダー選択や Broadcast Requests To に選択肢が 1 つしかない">
    YACL の奇妙な挙動です。値をクリックし、選びたいオプションの先頭 1〜2 文字を入力してから、表示された候補を選択してください。

    - LLM プロバイダー: `o` で OpenAI、`g` で Google Vertex AI。
    - Broadcast Requests To: `on`（自分のみ）、`a`（全員）、`op`（OP のみ）。
  </Accordion>

  <Accordion title="オーバーレイのオーブが表示されない">
    Assistive Touch オーブには以下が必要です:

    - クライアントに MineClawd がインストールされている。
    - OP 権限レベル 2 を持っている。
    - **Enable GUI** が ON（**Mod Menu** -> **MineClawd** -> **Configure**）。
    - `/mineclawd assistivetouch` がオーブを有効のままにしている。

    すべて満たしても表示されない場合はデバッグモードを ON にし、ログを確認してください。
  </Accordion>

  <Accordion title="オーバーレイ入力がチャットやインベントリに漏れる">
    v1.4.0 で修正済みです。MineClawd 1.4.0 以降を使っているか確認してください。

    問題が続く場合は MineClawd と依存関係だけを導入した状態でテストすると、競合 mod を特定しやすくなります。
  </Accordion>

  <Accordion title="Stop ボタンや `/mineclawd stop` でキャンセルできない">
    Stop はアクティブリクエストにキャンセル信号を出します。プロバイダーが処理を終えてレスポンスを送っている場合、即座には効かないことがあります。

    停止後もセッションがロックされる場合は、`/mineclawd sessions new` で新しいセッションを作成してください。
  </Accordion>

  <Accordion title="アセットテレポートでエンティティが見つからない">
    エンティティが死んだかスポーン済みエリアを離れた可能性があります。アセット記録は作成時の情報しか保持せず、移動は追跡しません。

    テレポートは UUID とディメンションと座標を持つエンティティアセットにのみ有効です。
  </Accordion>
</AccordionGroup>

## 問題が続く場合

- デバッグログを有効にする: `/mineclawd config debug-mode true`
- 失敗を再現する
- `logs/latest.log` を確認する
- 問題を報告する: `https://github.com/Zhou-Shilin/MineClawd/issues`
